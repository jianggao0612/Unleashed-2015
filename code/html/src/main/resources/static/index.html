<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        html { height: 100% }
        body { height: 100%; margin: 0; padding: 0 }
        #map_canvas { height: 100%}
        #panel {height: 100%}
    </style>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript">
    
    //window.alert("Hello");
    var x, y;
    var markersArray = [];
    var image = 'images/cycling.png';
    var center = new google.maps.LatLng(-34.92866, 138.59863);
    function initialize() {
        var myOptions = {
            center: new google.maps.LatLng(-34.92866, 138.59863),
            zoom: 17,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"),
          myOptions);

        var marker = new google.maps.Marker({
            position: center,
            map: map,
            icon: image
        });
        markersArray.push(marker);
        
        var directionsService = new google.maps.DirectionsService();
        
        google.maps.event.addListener(map, 'click', function(event) {
            deleteOverlays();
            var request = {
                origin:event.latLng, 
                destination:event.latLng,
                travelMode: google.maps.DirectionsTravelMode.DRIVING
            };
            
            directionsService.route(request, function(response, status) {
                if (status == google.maps.DirectionsStatus.OK) {
                    var marker = new google.maps.Marker({
                        position: response.routes[0].legs[0].start_location, 
                        map: map,
                        icon: image,
                        title:"Hello World!"
                    });
                    markersArray.push(marker);
                    map.panTo(event.latLng);
                }
            });
        });
    }
    
    function deleteOverlays() {
        if (markersArray) {
            for (i in markersArray) {
                markersArray[i].setMap(null);
            }
        markersArray.length = 0;
        }
    }
    
    function selectImgCar(){
        image = 'images/car.png';
        marker.icon = image;
    }
        
    function selectImgBike(){
        image = 'images/cycling.png';
        marker.icon = image;
	}
	
    function selectImgWalk(){
        image = 'images/walk.png';
        marker.icon = image;
    }
    
    function calcDist(){
        //calculate distances for smoother annimation???
    }

    </script>
</head>
<body onload="initialize()">
<div style="width: 100%; height: 100%; overflow: hidden;">
    <div id="map_canvas" style="width: 75%; height: 100%; float: left;"></div>
    <div id="panel" style="margin-left: 75%; padding: 10px">
        <h1>Game Stats</h1>
        <form name="myForm">
            <input type="radio" name="myRadio" id="radioCar" onClick="selectImgCar();" value="Car" /> Car<br>
            <input type="radio" name="myRadio" id="radioBike" onClick="selectImgBike();" value="Bike" checked="checked" /> Bike<br>
            <input type="radio" name="myRadio" id="radioWalk" onClick="selectImgWalk();" value="Walk" /> Walk<br>
        </form>
        <br>
        Score: <br>
        Goal completed: <br>
        Comfort: bar(0-100) <br>
        Carbon emissions: <br>
        Money: <br>
        Transportation type: <br>
        <br>
        Timer: Bar? and seconds value<br>
        <div class="progress">
            <div class="progress-bar" role="progressbar" aria-valuenow="70"
                 aria-valuemin="0" aria-valuemax="100" style="width:70%">
                70/100
            </div>
        </div>
    </div>
</div>
</body>
</html>
